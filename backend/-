openapi: 3.0.3
info:
  title: ForkLore API
  version: 1.0.0
  description: Interactive Web Novel Platform API
paths:
  /api/v1/admin/reports/:
    get:
      operationId: v1_admin_reports_retrieve
      description: 모든 신고 목록을 조회합니다.
      summary: 신고 목록 조회 (관리자)
      tags:
      - Admin - Reports
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/admin/reports/{id}/:
    patch:
      operationId: v1_admin_reports_partial_update
      description: 신고를 처리(승인/반려)합니다.
      summary: 신고 처리 (관리자)
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Admin - Reports
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/admin/wallet/{user_pk}/adjustment/:
    post:
      operationId: v1_admin_wallet_adjustment_create
      description: 관리자가 사용자의 지갑 잔액을 조정합니다.
      summary: 지갑 조정 (관리자)
      parameters:
      - in: path
        name: user_pk
        schema:
          type: integer
        required: true
      tags:
      - Admin - Wallet
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/ai/check-limit/:
    post:
      operationId: v1_ai_check_limit_create
      description: AI 사용 가능 여부를 확인합니다.
      summary: AI 한도 체크
      tags:
      - AI Usage
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/ai/record-usage/:
    post:
      operationId: v1_ai_record_usage_create
      description: AI 사용량을 기록합니다.
      summary: AI 사용량 기록
      tags:
      - AI Usage
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/auth/google/:
    post:
      operationId: v1_auth_google_create
      description: POST /api/v1/auth/google/ - Login with Google OAuth2
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SocialLogin'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SocialLogin'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SocialLogin'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialLogin'
          description: ''
  /api/v1/auth/kakao/:
    post:
      operationId: v1_auth_kakao_create
      description: POST /api/v1/auth/kakao/ - Login with Kakao OAuth2
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SocialLogin'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SocialLogin'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SocialLogin'
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SocialLogin'
          description: ''
  /api/v1/auth/login/:
    post:
      operationId: v1_auth_login_create
      description: POST /api/v1/auth/login - Login and get JWT tokens with user data
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomTokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CustomTokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CustomTokenObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomTokenObtainPair'
          description: ''
  /api/v1/auth/logout/:
    post:
      operationId: v1_auth_logout_create
      description: POST /api/v1/auth/logout - Logout by blacklisting refresh token
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Logout'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Logout'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Logout'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Logout'
          description: ''
  /api/v1/auth/refresh/:
    post:
      operationId: v1_auth_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/v1/auth/signup/:
    post:
      operationId: v1_auth_signup_create
      description: POST /api/v1/auth/signup - Register new user
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SignUp'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SignUp'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SignUp'
        required: true
      security:
      - jwtAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SignUp'
          description: ''
  /api/v1/branches/{branch_pk}/ai/ask/:
    post:
      operationId: v1_branches_ai_ask_create
      description: 소설 설정에 대해 RAG 기반으로 질문에 답변합니다.
      summary: RAG 질문응답
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AskRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AskRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AskRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AskResponse'
          description: ''
  /api/v1/branches/{branch_pk}/ai/consistency-check/:
    post:
      operationId: v1_branches_ai_consistency_check_create
      description: 회차의 설정 일관성을 검사합니다.
      summary: 일관성 검사
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsistencyCheckRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ConsistencyCheckRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ConsistencyCheckRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConsistencyCheckResponse'
          description: ''
  /api/v1/branches/{branch_pk}/ai/create-chunks/:
    post:
      operationId: v1_branches_ai_create_chunks_create
      description: 회차 또는 브랜치 전체를 청킹하는 백그라운드 태스크를 생성합니다.
      summary: 청킹 태스크 생성
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChunkTaskRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChunkTaskRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChunkTaskRequest'
      security:
      - jwtAuth: []
      responses:
        '202':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChunkTaskResponse'
          description: ''
  /api/v1/branches/{branch_pk}/ai/wiki-suggestions/:
    post:
      operationId: v1_branches_ai_wiki_suggestions_create
      description: 텍스트를 분석하여 새 위키 엔트리 후보를 제안합니다.
      summary: 위키 제안
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - AI
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/WikiSuggestionRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/WikiSuggestionRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/WikiSuggestionRequest'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WikiSuggestionResponse'
          description: ''
  /api/v1/branches/{branch_pk}/chapters/:
    get:
      operationId: v1_branches_chapters_retrieve
      description: 브랜치의 회차 목록을 조회합니다.
      summary: 회차 목록 조회
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_branches_chapters_create
      description: 새 회차를 생성합니다 (임시저장 상태).
      summary: 회차 생성
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/branches/{branch_pk}/chapters/{id}/:
    get:
      operationId: v1_branches_chapters_retrieve_2
      description: 회차 상세 정보를 조회합니다.
      summary: 회차 상세 조회
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/branches/{branch_pk}/maps/:
    get:
      operationId: v1_branches_maps_retrieve
      description: 브랜치의 지도 목록을 조회합니다.
      summary: 지도 목록 조회
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_branches_maps_create
      description: 새 지도를 생성합니다.
      summary: 지도 생성
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/branches/{branch_pk}/wiki-tags/:
    get:
      operationId: v1_branches_wiki_tags_retrieve
      description: 브랜치의 위키 태그 목록을 조회합니다.
      summary: 태그 목록 조회
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_branches_wiki_tags_create
      description: 새 위키 태그를 생성합니다.
      summary: 태그 생성
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/branches/{branch_pk}/wikis/:
    get:
      operationId: v1_branches_wikis_retrieve
      description: 브랜치의 위키 목록을 조회합니다.
      summary: 위키 목록 조회
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_branches_wikis_create
      description: 새 위키 엔트리를 생성합니다.
      summary: 위키 생성
      parameters:
      - in: path
        name: branch_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/chapters/{chapter_pk}/comments/:
    get:
      operationId: v1_chapters_comments_retrieve
      description: 회차의 댓글 목록을 조회합니다.
      summary: 댓글 목록 조회
      parameters:
      - in: path
        name: chapter_pk
        schema:
          type: integer
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_chapters_comments_create
      description: 새 댓글을 작성합니다.
      summary: 댓글 작성
      parameters:
      - in: path
        name: chapter_pk
        schema:
          type: integer
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/chapters/{chapter_pk}/like/:
    post:
      operationId: v1_chapters_like_create
      description: 회차에 좋아요를 누르거나 취소합니다.
      summary: 회차 좋아요
      parameters:
      - in: path
        name: chapter_pk
        schema:
          type: integer
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
    delete:
      operationId: v1_chapters_like_destroy
      description: 회차에 좋아요를 누르거나 취소합니다.
      summary: 회차 좋아요
      parameters:
      - in: path
        name: chapter_pk
        schema:
          type: integer
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/chapters/{chapter_pk}/purchase/:
    post:
      operationId: v1_chapters_purchase_create
      description: 회차를 소장 구매합니다.
      summary: 회차 소장
      parameters:
      - in: path
        name: chapter_pk
        schema:
          type: integer
        required: true
      tags:
      - Purchases
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/chapters/{id}/:
    get:
      operationId: v1_chapters_retrieve
      description: 회차 ID로 상세 정보를 조회합니다.
      summary: 회차 상세 조회 (ID)
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    patch:
      operationId: v1_chapters_partial_update
      description: 회차를 수정합니다.
      summary: 회차 수정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_chapters_destroy
      description: 회차를 삭제합니다.
      summary: 회차 삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/chapters/{id}/bookmark/:
    post:
      operationId: v1_chapters_bookmark_create
      description: 회차에 북마크를 추가하거나 삭제합니다.
      summary: 북마크 추가/삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Reading
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_chapters_bookmark_destroy
      description: 회차에 북마크를 추가하거나 삭제합니다.
      summary: 북마크 추가/삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Reading
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/chapters/{id}/publish/:
    post:
      operationId: v1_chapters_publish_create
      description: 임시저장 회차를 즉시 발행합니다.
      summary: 회차 발행
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/chapters/{id}/reading-progress/:
    post:
      operationId: v1_chapters_reading_progress_create
      description: 회차 읽은 진행률을 저장합니다.
      summary: 읽은 기록 저장
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Reading
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/chapters/{id}/schedule/:
    post:
      operationId: v1_chapters_schedule_create
      description: 회차를 예약 발행 설정합니다.
      summary: 회차 예약 발행
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Chapters
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/comments/{id}/:
    patch:
      operationId: v1_comments_partial_update
      description: 댓글을 수정합니다.
      summary: 댓글 수정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_comments_destroy
      description: 댓글을 삭제합니다.
      summary: 댓글 삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/comments/{id}/like/:
    post:
      operationId: v1_comments_like_create
      description: 댓글에 좋아요를 누르거나 취소합니다.
      summary: 댓글 좋아요
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_comments_like_destroy
      description: 댓글에 좋아요를 누르거나 취소합니다.
      summary: 댓글 좋아요
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/comments/{id}/pin/:
    post:
      operationId: v1_comments_pin_create
      description: 작가가 댓글을 고정합니다.
      summary: 댓글 고정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_comments_pin_destroy
      description: 작가가 댓글을 고정합니다.
      summary: 댓글 고정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Comments
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/layers/:
    get:
      operationId: v1_layers_retrieve
      description: 스냅샷의 레이어 목록을 조회합니다.
      summary: 레이어 목록 조회
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_layers_create
      description: 새 레이어를 생성합니다.
      summary: 레이어 생성
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/layers/{layer_pk}/objects/:
    get:
      operationId: v1_layers_objects_retrieve
      description: 레이어의 오브젝트 목록을 조회합니다.
      summary: 오브젝트 목록 조회
      parameters:
      - in: path
        name: layer_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_layers_objects_create
      description: 새 오브젝트를 생성합니다.
      summary: 오브젝트 생성
      parameters:
      - in: path
        name: layer_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/maps/{map_pk}/snapshots/:
    get:
      operationId: v1_maps_snapshots_retrieve
      description: 지도의 스냅샷 목록을 조회합니다.
      summary: 지도 스냅샷 목록 조회
      parameters:
      - in: path
        name: map_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_maps_snapshots_create
      description: 새 지도 스냅샷을 생성합니다.
      summary: 지도 스냅샷 생성
      parameters:
      - in: path
        name: map_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/maps/{id}/:
    get:
      operationId: v1_maps_retrieve
      description: 지도 상세 정보를 조회합니다. ?currentChapter=N으로 문맥 인식 조회 가능.
      summary: 지도 상세 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    patch:
      operationId: v1_maps_partial_update
      description: 지도를 수정합니다.
      summary: 지도 수정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_maps_destroy
      description: 지도를 삭제합니다.
      summary: 지도 삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/novels/branches/{id}/:
    get:
      operationId: v1_novels_branches_retrieve
      description: Retrieve a single branch.
      summary: 브랜치 상세 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/novels/branches/{id}/continue-reading/:
    get:
      operationId: v1_novels_branches_continue_reading_retrieve
      description: Get continue reading info for this branch.
      summary: 이어 읽기 정보 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/novels/branches/{id}/link-request/:
    post:
      operationId: v1_novels_branches_link_request_create
      description: Create a link request.
      summary: 브랜치 연결 요청
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branch Links
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/novels/branches/{id}/visibility/:
    patch:
      operationId: v1_novels_branches_visibility_partial_update
      description: Update branch visibility.
      summary: 브랜치 공개 상태 변경
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/novels/branches/{id}/vote/:
    post:
      operationId: v1_novels_branches_vote_create
      description: Add or remove a vote.
      summary: 브랜치 투표/투표 취소
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_novels_branches_vote_destroy
      description: Add or remove a vote.
      summary: 브랜치 투표/투표 취소
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/novels/link-requests/{id}/:
    patch:
      operationId: v1_novels_link_requests_partial_update
      description: Review (approve/reject) a link request.
      summary: 브랜치 연결 요청 검토
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Branch Links
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/novels/novels/:
    get:
      operationId: v1_novels_novels_retrieve
      description: List novels with optional filtering and sorting.
      summary: 소설 목록 조회
      tags:
      - Novels
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_novels_novels_create
      description: Create a new novel.
      summary: 소설 생성
      tags:
      - Novels
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/novels/novels/{novel_pk}/branches/:
    get:
      operationId: v1_novels_novels_branches_retrieve
      description: List branches for a novel.
      summary: 브랜치 목록 조회
      parameters:
      - in: path
        name: novel_pk
        schema:
          type: string
        required: true
      - in: query
        name: sort
        schema:
          type: string
        description: 'Sort by: votes, latest, views'
      - in: query
        name: visibility
        schema:
          type: string
        description: Filter by visibility
      tags:
      - Branches
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_novels_novels_branches_create
      description: Fork a new branch.
      summary: 브랜치 포크
      parameters:
      - in: path
        name: novel_pk
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/novels/novels/{novel_pk}/branches/{id}/:
    get:
      operationId: v1_novels_novels_branches_retrieve_2
      description: Retrieve a single branch.
      summary: 브랜치 상세 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      - in: path
        name: novel_pk
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/novels/novels/{novel_pk}/branches/main/:
    get:
      operationId: v1_novels_novels_branches_main_retrieve
      description: Get main branch of a novel.
      summary: 메인 브랜치 조회
      parameters:
      - in: path
        name: novel_pk
        schema:
          type: string
        required: true
      tags:
      - Branches
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
  /api/v1/novels/novels/{id}/:
    get:
      operationId: v1_novels_novels_retrieve_2
      description: Retrieve a single novel.
      summary: 소설 상세 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Novels
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    patch:
      operationId: v1_novels_novels_partial_update
      description: Update a novel.
      summary: 소설 수정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Novels
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_novels_novels_destroy
      description: Delete a novel.
      summary: 소설 삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Novels
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/purchases/:
    get:
      operationId: v1_purchases_retrieve
      description: 내가 소장한 회차 목록을 조회합니다.
      summary: 소장 목록 조회
      tags:
      - Purchases
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/reports/:
    post:
      operationId: v1_reports_create
      description: 콘텐츠를 신고합니다.
      summary: 신고 생성
      tags:
      - Reports
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/snapshots/{snapshot_pk}/layers/:
    get:
      operationId: v1_snapshots_layers_retrieve
      description: 스냅샷의 레이어 목록을 조회합니다.
      summary: 레이어 목록 조회
      parameters:
      - in: path
        name: snapshot_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_snapshots_layers_create
      description: 새 레이어를 생성합니다.
      summary: 레이어 생성
      parameters:
      - in: path
        name: snapshot_pk
        schema:
          type: string
        required: true
      tags:
      - Maps
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/subscriptions/:
    post:
      operationId: v1_subscriptions_create
      description: 새 구독을 생성하거나 기존 구독을 연장합니다.
      summary: 구독 가입
      tags:
      - Subscriptions
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/subscriptions/current/:
    delete:
      operationId: v1_subscriptions_current_destroy
      description: 현재 구독을 취소합니다. 만료일까지는 이용 가능합니다.
      summary: 구독 취소
      tags:
      - Subscriptions
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/subscriptions/status/:
    get:
      operationId: v1_subscriptions_status_retrieve
      description: 현재 구독 상태를 조회합니다.
      summary: 구독 상태 조회
      tags:
      - Subscriptions
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/users/me/:
    get:
      operationId: v1_users_me_retrieve
      description: GET/PATCH /api/v1/users/me - Get/update current user profile
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
    put:
      operationId: v1_users_me_update
      description: GET/PATCH /api/v1/users/me - Get/update current user profile
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProfile'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UpdateProfile'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UpdateProfile'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateProfile'
          description: ''
    patch:
      operationId: v1_users_me_partial_update
      description: GET/PATCH /api/v1/users/me - Get/update current user profile
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUpdateProfile'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUpdateProfile'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUpdateProfile'
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateProfile'
          description: ''
  /api/v1/users/me/ai-usage/:
    get:
      operationId: v1_users_me_ai_usage_retrieve
      description: 현재 사용자의 AI 사용량과 한도를 조회합니다.
      summary: AI 사용량 조회
      tags:
      - AI Usage
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/users/me/bookmarks/:
    get:
      operationId: v1_users_me_bookmarks_retrieve
      description: 내 북마크 목록을 조회합니다.
      summary: 북마크 목록 조회
      tags:
      - Reading
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/users/me/password/:
    post:
      operationId: v1_users_me_password_create
      description: POST /api/v1/users/me/password - Change password
      tags:
      - v1
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangePassword'
        required: true
      security:
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangePassword'
          description: ''
  /api/v1/users/me/reading-history/:
    get:
      operationId: v1_users_me_reading_history_retrieve
      description: 내가 최근 읽은 회차 목록을 조회합니다.
      summary: 읽은 기록 목록 조회
      tags:
      - Reading
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/users/me/wallet/:
    get:
      operationId: v1_users_me_wallet_retrieve
      description: 잔액과 최근 거래 내역을 조회합니다.
      summary: 지갑 조회
      tags:
      - Wallet
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/users/me/wallet/transactions/:
    get:
      operationId: v1_users_me_wallet_transactions_retrieve
      description: 전체 거래 내역을 조회합니다.
      summary: 거래 내역 조회
      tags:
      - Wallet
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/wallet/charge/:
    post:
      operationId: v1_wallet_charge_create
      description: '코인을 충전합니다 (MVP: 내부 시뮬레이션).'
      summary: 코인 충전
      tags:
      - Wallet
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
  /api/v1/wiki-tags/{id}/:
    delete:
      operationId: v1_wiki_tags_destroy
      description: Delete a tag definition.
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - v1
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/wikis/{id}/:
    get:
      operationId: v1_wikis_retrieve
      description: 위키 엔트리 상세 정보를 조회합니다. ?chapter=N으로 문맥 인식 조회 가능.
      summary: 위키 상세 조회
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    patch:
      operationId: v1_wikis_partial_update
      description: 위키 엔트리를 수정합니다.
      summary: 위키 수정
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
    delete:
      operationId: v1_wikis_destroy
      description: 위키 엔트리를 삭제합니다.
      summary: 위키 삭제
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/v1/wikis/{id}/tags/:
    put:
      operationId: v1_wikis_tags_update
      description: 위키의 태그를 설정합니다.
      summary: 위키 태그 업데이트
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/v1/wikis/{wiki_pk}/snapshots/:
    get:
      operationId: v1_wikis_snapshots_retrieve
      description: 위키의 스냅샷 목록을 조회합니다.
      summary: 스냅샷 목록 조회
      parameters:
      - in: path
        name: wiki_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      - {}
      responses:
        '200':
          description: No response body
    post:
      operationId: v1_wikis_snapshots_create
      description: 새 위키 스냅샷을 생성합니다.
      summary: 스냅샷 생성
      parameters:
      - in: path
        name: wiki_pk
        schema:
          type: string
        required: true
      tags:
      - Wiki
      security:
      - jwtAuth: []
      responses:
        '201':
          description: No response body
components:
  schemas:
    AskRequest:
      type: object
      description: RAG 질문 요청
      properties:
        question:
          type: string
          description: 질문 내용 (5자 이상)
          maxLength: 1000
          minLength: 5
      required:
      - question
    AskResponse:
      type: object
      description: RAG 질문 응답
      properties:
        answer:
          type: string
          description: AI 응답
      required:
      - answer
    ChangePassword:
      type: object
      properties:
        old_password:
          type: string
          writeOnly: true
        new_password:
          type: string
          writeOnly: true
      required:
      - new_password
      - old_password
    ChunkTaskRequest:
      type: object
      description: 청킹 태스크 요청
      properties:
        chapter_id:
          type: integer
          minimum: 1
          description: 청킹할 회차 ID (선택)
    ChunkTaskResponse:
      type: object
      description: 청킹 태스크 응답
      properties:
        task_id:
          type: string
          description: Celery 태스크 ID
        status:
          type: string
          description: 태스크 상태
      required:
      - status
      - task_id
    ConsistencyCheckRequest:
      type: object
      description: 일관성 검사 요청
      properties:
        chapter_id:
          type: integer
          minimum: 1
          description: 검사할 회차 ID
      required:
      - chapter_id
    ConsistencyCheckResponse:
      type: object
      description: 일관성 검사 응답
      properties:
        consistent:
          type: boolean
          description: 일관성 여부
        issues:
          type: array
          items:
            type: string
          description: 발견된 문제점 목록
      required:
      - consistent
      - issues
    CustomTokenObtainPair:
      type: object
      description: Custom JWT token serializer that includes user data in response.
      properties:
        email:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - email
      - password
    Logout:
      type: object
      description: Serializer for logout (blacklisting refresh token).
      properties:
        refresh:
          type: string
          description: Refresh token to blacklist
      required:
      - refresh
    PatchedUpdateProfile:
      type: object
      properties:
        nickname:
          type: string
          title: 닉네임
          maxLength: 50
        profile_image_url:
          type: string
          format: uri
          title: 프로필 이미지
          maxLength: 200
        bio:
          type: string
          title: 소개
        birth_date:
          type: string
          format: date
          nullable: true
          title: 생년월일
    RoleEnum:
      enum:
      - READER
      - AUTHOR
      - ADMIN
      type: string
      description: |-
        * `READER` - Reader
        * `AUTHOR` - Author
        * `ADMIN` - Admin
    SignUp:
      type: object
      properties:
        email:
          type: string
          format: email
          title: 이메일
          maxLength: 254
        password:
          type: string
          writeOnly: true
        password_confirm:
          type: string
          writeOnly: true
        nickname:
          type: string
          title: 닉네임
          maxLength: 50
        birth_date:
          type: string
          format: date
          nullable: true
          title: 생년월일
      required:
      - email
      - nickname
      - password
      - password_confirm
    SocialLogin:
      type: object
      properties:
        access_token:
          type: string
        code:
          type: string
        id_token:
          type: string
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
      required:
      - access
      - refresh
    UpdateProfile:
      type: object
      properties:
        nickname:
          type: string
          title: 닉네임
          maxLength: 50
        profile_image_url:
          type: string
          format: uri
          title: 프로필 이미지
          maxLength: 200
        bio:
          type: string
          title: 소개
        birth_date:
          type: string
          format: date
          nullable: true
          title: 생년월일
      required:
      - nickname
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
          readOnly: true
          title: 이메일
        nickname:
          type: string
          title: 닉네임
          maxLength: 50
        profile_image_url:
          type: string
          format: uri
          title: 프로필 이미지
          maxLength: 200
        bio:
          type: string
          title: 소개
        role:
          allOf:
          - $ref: '#/components/schemas/RoleEnum'
          readOnly: true
          title: 역할
        date_joined:
          type: string
          format: date-time
          readOnly: true
          title: 등록일
      required:
      - date_joined
      - email
      - id
      - nickname
      - role
    WikiSuggestionItem:
      type: object
      description: 위키 제안 항목
      properties:
        name:
          type: string
          description: 엔트리 이름
        description:
          type: string
          description: 간단한 설명
      required:
      - description
      - name
    WikiSuggestionRequest:
      type: object
      description: 위키 제안 요청
      properties:
        text:
          type: string
          description: 분석할 텍스트 (10자 이상)
          maxLength: 10000
          minLength: 10
      required:
      - text
    WikiSuggestionResponse:
      type: object
      description: 위키 제안 응답
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/WikiSuggestionItem'
      required:
      - data
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
